# <span style="color: #FF5733;"> DKR 03: Basics. Запуск команд внутри контейнеров  </span>

## exec

Команда exec используется в двух случаях:

- Вызов команды внутри контейнера: например, отправка команды работающему приложению.
- Получение интерактивной оболочки внутри контейнера для работы как в полноценной операционной системе.

### Первый сценарий:

Обычно используется для запуска серверных задач:
- Повторное чтение конфига приложения без перезапуска.
- Ротация файла логов.
- Запуск фоновых работ.

### Второй сценарий:

Полезен для отладки приложения изнутри:

- Просмотр логов (если они не передаются наружу).
- Проверка сетевой доступности.
- Изменение параметров работы приложения для последующего фиксирования в исходном коде.

`attach` - подключение к приложению в контейнере, а не к самому контейнеру. Например, при подключении к nginx, доступ к тому же выводу, что и при запуске nginx вручную без фонового режима. Если в контейнере запущена интерактивная оболочка, attach предоставляет доступ к её сессии.
Использование attach:

Аналогично использованию терминальных мультиплексоров или фонового режима работы приложения, где можно запустить приложение и в любой момент подключиться к его текущему состоянию, как будто оно запущено в вашем терминале.
Как работать с командой exec:

`-i`: запуск команды в интерактивном режиме для установления постоянного соединения (полезно в первом сценарии использования docker exec).

`-t`: создание псевдотерминала (полезно во втором сценарии использования docker exec).

Обычно использование этих флагов позволяет взаимодействовать с контейнерами. Однако есть особые случаи:

- Запуск команды внутри контейнера без ожидания вывода или взаимодействия с командой: запуск без флагов.
- Автоматизированный запуск команды (например, в cron): выделение псевдотерминала может быть бесполезным, если оно происходит в системе, которая изначально не работает из-под терминала.

Для определения id виртуального терминала, используемого в данный момент, можно выполнить команду who в терминале.